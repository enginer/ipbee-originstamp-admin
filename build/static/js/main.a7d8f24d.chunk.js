(this["webpackJsonpadmin-page"]=this["webpackJsonpadmin-page"]||[]).push([[0],{232:function(e,t){},254:function(e,t){},257:function(e,t){},261:function(e,t){},282:function(e,t){},284:function(e,t){},295:function(e,t){},297:function(e,t){},307:function(e,t){},309:function(e,t){},426:function(e,t){},428:function(e,t){},435:function(e,t){},436:function(e,t){},535:function(e,t,n){},536:function(e,t,n){"use strict";n.r(t),n.d(t,"polygonChainId",(function(){return H})),n.d(t,"currentChainId",(function(){return _})),n.d(t,"injected",(function(){return D}));var a,r=n(20),c=n(2),s=n.n(c),i=n(4),o=n.n(i),u=n(221),l=n(17),p=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"newDocHash",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"expiredDocHash",type:"bytes32"}],name:"NewVersionRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"docHash",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"validUntil",type:"uint256"}],name:"Registered",type:"event"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"docRegistrationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"newVersions",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_docHash",type:"bytes32"},{internalType:"uint256",name:"_validUntil",type:"uint256"}],name:"register",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_docHashes",type:"bytes32[]"},{internalType:"uint256[]",name:"_validUntil",type:"uint256[]"}],name:"registerMultiply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_newDocHash",type:"bytes32"},{internalType:"bytes32",name:"_expiredDocHash",type:"bytes32"},{internalType:"uint256",name:"_newDocValidUntil",type:"uint256"}],name:"registerNewVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_newDocHashes",type:"bytes32[]"},{internalType:"bytes32[]",name:"_expiredDocHashes",type:"bytes32[]"},{internalType:"uint256[]",name:"_newDocValidUntil",type:"uint256[]"}],name:"registerNewVersionMultiply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"validUntil",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],m=n(225),d="0x3aE064c3c15254e5669270069Ca40055D1050561";function b(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=5;break}return n=new m.a(d,p,t.getSigner()),e.next=4,n.deployed();case 4:a=n;case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={gasLimit:5e5},y=function(e){alert('Transaction Failed!\nUse "Open Last Transaction" link for error details')},v=n(23);function g(){var e=Object(v.c)().library,t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],u=Object(i.useState)(""),p=Object(l.a)(u,2),m=p[0],d=p[1];return o.a.createElement("div",{className:"transfer section"},o.a.createElement("h3",{className:"transfer-title"},"transfer ownership"),o.a.createElement("div",{className:"transfer-form"},o.a.createElement("input",{className:"transfer-input",placeholder:"new owner address",type:"text",required:!0,name:"new-own-address",onChange:function(e){return d(e.target.value)}}),a?"Loading...":o.a.createElement("a",{className:"transfer-btn btn",onClick:function(){m&&b(e).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,t.transferOwnership(m,h);case 4:return n=e.sent,e.next=7,n.wait();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:c(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}},"transfer")))}var w=n(30);function E(){var e={hash:"",date:""},t=Object(i.useState)([e]),n=Object(l.a)(t,2),a=n[0],c=n[1],u=Object(v.c)().library,p=Object(i.useState)(!1),m=Object(l.a)(p,2),d=m[0],f=m[1];return o.a.createElement("div",{className:"bulk section"},o.a.createElement("h3",{className:"bulk-title"},"registrate bulk of documents"),o.a.createElement("div",{className:"bulk-form"},a.map((function(t,n){return o.a.createElement("div",null,o.a.createElement("div",{className:"second-container-bulk"},o.a.createElement("input",{className:"bulk-input-one",type:"text",required:!0,placeholder:"hash",name:"hash",value:t.hash,onChange:function(e){return function(e,t){var n=Object(w.a)(a);n[e].hash=t,c(n)}(n,e.target.value)}}),o.a.createElement("div",{className:"bulk-until"},o.a.createElement("input",{className:"bulk-input-two",type:"date",placeholder:"valid until",name:"valid-until",value:t.date,onChange:function(e){return function(e,t){var n=Object(w.a)(a);n[e].date=t.replaceAll(".","-"),c(n)}(n,e.target.value.replace("-",".").replace("-","."))}})),n===a.length-1&&o.a.createElement("a",{className:"bulk-form-plus",onClick:function(){return c([].concat(Object(w.a)(a),[e]))}},"+")))})),o.a.createElement("div",{className:"bulk-form-btn-container",style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"20px"}},d?"Loading...":o.a.createElement("button",{className:"btn register-btn",onClick:function(){b(u).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,n=a.map((function(e){return e.hash})),r=a.map((function(e){return e.date?Math.floor(new Date(e.date).getTime()/1e3):0})),e.next=6,t.registerMultiply(n,r,h);case 6:return c=e.sent,console.log("https://polygonscan.com/tx/".concat(c.hash)),e.next=10,c.wait();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:f(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())},type:"submit"},"register all at once"),o.a.createElement("button",{className:"btn clear-btn",onClick:function(){return c([e])},style:{marginLeft:"20px"}},"clear"))))}function O(){var e=Object(v.c)().library,t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],u=Object(i.useState)(""),p=Object(l.a)(u,2),m=p[0],d=p[1],f=Object(i.useState)("Undefined"),h=Object(l.a)(f,2),y=h[0],g=h[1],w=Object(i.useState)("Undefined"),E=Object(l.a)(w,2),O=E[0],x=E[1],k=Object(i.useState)("Undefined"),j=Object(l.a)(k,2),N=j[0],T=j[1];return o.a.createElement("div",{className:"check"},o.a.createElement("h3",null,"check document"),o.a.createElement("div",{className:"check-form"},o.a.createElement("input",{className:"check-input",type:"text",placeholder:"hash",name:"hash",required:!0,onChange:function(e){return d(e.target.value)}}),a?"Loading...":o.a.createElement("button",{className:"check-btn btn",onClick:function(){b(e).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return c(!0),e.prev=3,e.next=6,t.docRegistrationTime(m);case 6:return n=e.sent,g(n.isZero()?"Undefined":new Date(1e3*n.toNumber()).toLocaleString()),e.next=10,t.validUntil(m);case 10:return a=e.sent,x(a.isZero()?"Undefined":new Date(1e3*a.toNumber()).toLocaleString()),e.next=14,t.newVersions(m);case 14:r=e.sent,T(Number(r)?r:"No"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0);case 21:c(!1);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}())},type:"submit"},"check")),o.a.createElement("div",{className:"check-info"},o.a.createElement("p",{className:"check-info-one"},"registered at",o.a.createElement("span",{className:"check-info-one-span"},y)),o.a.createElement("p",{className:"check-info-one check-info-second"},"valid until",o.a.createElement("span",{className:"check-info-two-span"},O)),o.a.createElement("p",{className:"check-info-one"},"new version",o.a.createElement("span",{className:"check-info-three-span"},N))))}function x(){var e=Object(v.c)().library,t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],u=Object(i.useState)(""),p=Object(l.a)(u,2),m=p[0],d=p[1],f=Object(i.useState)(""),g=Object(l.a)(f,2),w=g[0],E=g[1],O=Object(i.useState)(""),x=Object(l.a)(O,2),k=x[0],j=x[1];return o.a.createElement("div",{className:"register section"},o.a.createElement("h3",{className:"register-title"},"registrate new document"),o.a.createElement("div",{className:"register-form"},o.a.createElement("input",{className:"register-input-one",type:"text",placeholder:"hash",name:"hash",required:!0,onChange:function(e){return d(e.target.value)}}),o.a.createElement("div",{className:"register-form-input-two"},o.a.createElement("input",{className:"register-input-two",type:"date",placeholder:"valid until",onChange:function(e){return E(e.target.value)}})),a?"Loading...":o.a.createElement("button",{className:"btn register-btn",onClick:function(){m&&(j(""),b(e).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,n=w?Math.floor(new Date(w).getTime()/1e3):0,e.next=5,t.register(m,n,h);case 5:return a=e.sent,j(a.hash),e.next=9,a.wait();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y(e.t0);case 14:c(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))},type:"submit"},"register")),k&&o.a.createElement("div",{className:"tx-link"},o.a.createElement("a",{target:"_blank",href:"https://polygonscan.com/tx/".concat(k)},"Open Last Transaction")))}function k(){var e=Object(v.c)().library,t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],u=Object(i.useState)(""),p=Object(l.a)(u,2),m=p[0],d=p[1],f=Object(i.useState)(""),g=Object(l.a)(f,2),w=g[0],E=g[1],O=Object(i.useState)(""),x=Object(l.a)(O,2),k=x[0],j=x[1],N=Object(i.useState)(""),T=Object(l.a)(N,2),C=T[0],S=T[1];return o.a.createElement("div",{className:"version section"},o.a.createElement("h3",{className:"version-title"},"registrate new version of document"),o.a.createElement("div",{className:"version-form"},o.a.createElement("div",{className:"version-form-container"},o.a.createElement("input",{className:"version-input-old",type:"text",placeholder:"old document hash",required:!0,name:"old hash",onChange:function(e){return d(e.target.value)}}),o.a.createElement("input",{className:"version-input-new",type:"text",placeholder:"new document hash",required:!0,name:"old hash",onChange:function(e){return E(e.target.value)}})),o.a.createElement("div",{className:"version-until"},o.a.createElement("input",{className:"version-until-input",type:"date",placeholder:"valid until",name:"valid-until",onChange:function(e){return j(e.target.value.replace("-",".").replace("-","."))}})),a?"Loading...":o.a.createElement("button",{className:"btn register-btn",onClick:function(){m&&w&&b(e).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,n=k?Math.floor(new Date(k).getTime()/1e3):0,e.next=5,t.registerNewVersion(w,m,n,h);case 5:return a=e.sent,S(a.hash),e.next=9,a.wait();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y(e.t0);case 14:c(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())},type:"submit"},"register")),C&&o.a.createElement("div",{className:"tx-link"},o.a.createElement("a",{target:"_blank",href:"https://polygonscan.com/tx/".concat(C)},"Open Last Transaction")))}var j=n(90),N=n(224),T=n.n(N);n(535);function C(){var e={oldHash:"",newHash:"",date:""},t=Object(i.useState)([e]),n=Object(l.a)(t,2),a=n[0],c=n[1],u=Object(v.c)().library,p=Object(i.useState)(!1),m=Object(l.a)(p,2),d=m[0],f=m[1];return o.a.createElement("div",{className:"new-versions section"},o.a.createElement("h3",{className:"new-versions-title"},"registrate bulk of new versions of documents"),a.map((function(t,n){return o.a.createElement("div",{className:"new-versions-form"},o.a.createElement("input",{className:"new-versions-input-old",type:"text",placeholder:"old document hash",required:!0,name:"old hash",onChange:function(e){return function(e,t){var n=Object(w.a)(a);n[e].oldHash=t,c(n)}(n,e.target.value)}}),o.a.createElement("input",{className:"new-versions-input-new",type:"text",placeholder:"new document hash",required:!0,name:"new hash",onChange:function(e){return function(e,t){var n=Object(w.a)(a);n[e].newHash=t,c(n)}(n,e.target.value)}}),o.a.createElement("input",{className:"new-versions-until-input",type:"date",placeholder:"valid until",name:"valid-until",onChange:function(e){return function(e,t){var n=Object(w.a)(a);n[e].date=t.replaceAll(".","-"),c(n)}(n,e.target.value)}}),n===a.length-1&&o.a.createElement("a",{className:"new-versions-form-plus",onClick:function(){return c([].concat(Object(w.a)(a),[e]))}},"+"))})),o.a.createElement("div",{className:"bulk-form-btn-container",style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"20px"}},d?"Loading...":o.a.createElement("button",{className:"btn register-btn",onClick:function(){b(u).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,n=a.map((function(e){return e.oldHash})),r=a.map((function(e){return e.newHash})),c=a.map((function(e){return e.date?Math.floor(new Date(e.date).getTime()/1e3):0})),e.next=7,t.registerNewVersionMultiply(r,n,c,h);case 7:return i=e.sent,console.log("https://polygonscan.com/tx/".concat(i.hash)),e.next=11,i.wait();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:f(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}())},type:"submit"},"register all at once"),o.a.createElement("button",{className:"btn clear-btn",onClick:function(){return c([e])},style:{marginLeft:"20px"}},"clear")))}var S=function(){var e=Object(v.c)(),t=(e.active,e.account),n=e.library,a=(e.connector,e.activate),c=e.setError,u=(e.deactivate,Object(i.useState)("")),p=Object(l.a)(u,2),m=p[0],f=p[1],h=function(){var e=Object(r.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.ethereum)){e.next=21;break}return n=T.a.utils.toHex(H),e.prev=3,e.next=6,t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]});case 6:e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(3),4902!==e.t0.code){e.next=19;break}return e.prev=11,e.next=14,t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-mainnet.maticvigil.com"],blockExplorerUrls:["https://polygonscan.com"]}]});case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(11),console.error(e.t1);case 19:e.next=22;break;case 21:console.error("No ethereum");case 22:case"end":return e.stop()}}),e,null,[[3,8],[11,16]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){a(D,function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof v.a)){e.next=5;break}return e.next=3,h();case 3:e.next=6;break;case 5:t instanceof j.b||c(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1)}),[]),t&&!m&&b(n).then(function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,t.owner();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.a.createElement("div",{className:"container"},t&&o.a.createElement("div",{className:"address"},"Connected to ",m===t&&o.a.createElement("strong",null,"Owner "),o.a.createElement("div",null,o.a.createElement("a",{href:"https://polygonscan.com/address/".concat(t),target:"_blank"},t))),o.a.createElement(O,null),o.a.createElement(x,null),o.a.createElement(k,null),o.a.createElement(E,null),o.a.createElement(C,null),o.a.createElement(g,null),o.a.createElement("div",{className:"bottom"},"Smart Contract Address: ",o.a.createElement("a",{href:"https://polygonscan.com/address/".concat(d),target:"_blank"},d)))},M=n(542),H=137,_=H,D=new j.a({supportedChainIds:[_]});function L(e){return new M.a(e)}Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.render(i.createElement(v.b,{getLibrary:L},i.createElement(S,null)),document.getElementById("root"));case 1:case"end":return e.stop()}}),e)})))()}},[[536,1,2]]]);
//# sourceMappingURL=main.a7d8f24d.chunk.js.map